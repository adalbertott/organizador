<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendário - Sistema de Gamificação</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* RESET E CONFIGURAÇÕES GERAIS */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 0;
            font-size: 16px;
            color: #333;
        }

        /* BARRA DE NAVEGAÇÃO SIMPLIFICADA */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2c3e50;
        }

        .nav-brand i {
            color: #3498db;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        .nav-link {
            text-decoration: none;
            color: #5a6c7d;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-link:hover, .nav-link.active {
            background: #3498db;
            color: white;
        }

        /* CONTEÚDO PRINCIPAL */
        .main-content {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* CONTAINER DO CALENDÁRIO */
        .calendar-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* CABEÇALHO DO CALENDÁRIO */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .calendar-header h1 {
            font-size: 1.8rem;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .calendar-header h1 i {
            color: #3498db;
        }

        .calendar-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .week-display {
            font-weight: 600;
            font-size: 1.2rem;
            color: #2c3e50;
            min-width: 250px;
            text-align: center;
            padding: 0.75rem 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        /* GRID DO CALENDÁRIO - LAYOUT SIMPLIFICADO */
        .calendar-week {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
            background: white;
        }

        .calendar-day-header {
            display: grid;
            grid-template-columns: 100px repeat(7, 1fr);
            background: #f5f7fa;
            border-bottom: 1px solid #e0e0e0;
        }

        .day-column {
            padding: 0.75rem 0.5rem;
            text-align: center;
            border-right: 1px solid #e0e0e0;
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.9rem;
        }

        .day-column:last-child {
            border-right: none;
        }

        .time-header {
            background: #e9ecef;
            font-weight: bold;
            color: #495057;
        }

        /* CONTAINER DE SLOTS DE TEMPO */
        .calendar-time-slots {
            max-height: 60vh;
            overflow-y: auto;
        }

        /* LINHAS DE HORÁRIO */
        .time-slot {
            display: grid;
            grid-template-columns: 100px repeat(7, 1fr);
            border-bottom: 1px solid #e0e0e0;
            min-height: 80px;
            background: white;
        }

        .time-slot:last-child {
            border-bottom: none;
        }

        .time-slot:nth-child(even) {
            background: #f8f9fa;
        }

        .time-label {
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 600;
            color: #495057;
            border-right: 1px solid #e0e0e0;
            padding: 0.5rem;
        }

        /* SLOTS DOS DIAS */
        .day-slot {
            border-right: 1px solid #e0e0e0;
            padding: 0.5rem;
            cursor: pointer;
            position: relative;
            min-height: 80px;
            background: transparent;
            display: flex;
            flex-direction: column;
        }

        .day-slot:hover {
            background: #e3f2fd;
        }

        .day-slot:last-child {
            border-right: none;
        }

        /* ATIVIDADES AGENDADAS */
        .scheduled-activity {
            position: relative;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 0.25rem;
            padding: 0.5rem;
            font-size: 0.8rem;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }

        .scheduled-activity:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* LEGENDA DE CATEGORIAS */
        .calendar-legend {
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .calendar-legend h3 {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .calendar-legend h3 i {
            color: #3498db;
        }

        .legend-items {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .legend-text {
            font-size: 0.9rem;
            color: #495057;
            font-weight: 500;
        }

        /* BOTÕES */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid #dee2e6;
            color: #495057;
        }

        .btn-outline:hover {
            background: #f8f9fa;
            border-color: #3498db;
            color: #3498db;
        }

        /* MODAIS */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .close {
            color: #6c757d;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 1rem;
            top: 1rem;
        }

        .close:hover {
            color: #2c3e50;
        }

        .modal-content h2 {
            color: #2c3e50;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 1.5rem;
        }

        /* BOTÃO DE HOJE */
        #today-btn {
            background: #e67e22;
            color: white;
        }

        #today-btn:hover {
            background: #d35400;
        }

        /* SCROLLBAR PERSONALIZADO */
        .calendar-time-slots::-webkit-scrollbar {
            width: 8px;
        }

        .calendar-time-slots::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .calendar-time-slots::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }

        .calendar-time-slots::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        /* ESTILOS ADICIONAIS PARA NOTIFICAÇÕES E MENU DE OPÇÕES */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 3000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 300px;
            max-width: 400px;
            animation: slideIn 0.3s ease;
        }

        .notification-success {
            border-left: 5px solid #2ecc71;
            background: #d5f4e6;
        }

        .notification-error {
            border-left: 5px solid #e74c3c;
            background: #fadbd8;
        }

        .notification-info {
            border-left: 5px solid #3498db;
            background: #d6eaf8;
        }

        .notification button {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #7f8c8d;
            padding: 0 5px;
        }

        .notification button:hover {
            color: #2c3e50;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* MENU DE OPÇÕES DAS ATIVIDADES */
        .activity-options-menu {
            position: absolute;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            z-index: 1000;
            min-width: 300px;
            max-width: 350px;
            display: none;
        }

        .options-content {
            padding: 15px;
        }

        .options-content h4 {
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .options-content p {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .options-section {
            margin: 15px 0;
            padding: 10px 0;
            border-top: 1px solid #ecf0f1;
        }

        .options-section h5 {
            margin-bottom: 10px;
            color: #34495e;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .options-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .options-buttons .btn-sm {
            padding: 6px 12px;
            font-size: 0.85rem;
            border-radius: 6px;
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .btn-success {
            background: #2ecc71;
            color: white;
        }

        .btn-success:hover {
            background: #27ae60;
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        /* INDICADOR DE HORA NOS SLOTS */
        .time-indicator {
            position: absolute;
            top: 2px;
            left: 2px;
            font-size: 0.7rem;
            color: #95a5a6;
            background: rgba(255,255,255,0.7);
            padding: 1px 4px;
            border-radius: 3px;
        }

        /* EFEITO DE ARRASTAR */
        .dragging {
            opacity: 0.5;
            transform: rotate(3deg);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* RESPONSIVIDADE */
        @media (max-width: 992px) {
            .navbar {
                padding: 1rem;
            }
            
            .nav-brand {
                font-size: 1.3rem;
            }
            
            .nav-links {
                gap: 1rem;
            }
            
            .nav-link {
                padding: 0.5rem 0.75rem;
                font-size: 0.9rem;
            }
            
            .main-content {
                padding: 1rem;
            }
            
            .calendar-container {
                padding: 1rem;
            }
            
            .calendar-header h1 {
                font-size: 1.5rem;
            }
            
            .week-display {
                font-size: 1rem;
                min-width: 200px;
            }
        }

        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .calendar-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .calendar-controls {
                justify-content: center;
            }
            
            .week-display {
                min-width: auto;
                width: 100%;
            }
            
            .calendar-day-header,
            .time-slot {
                grid-template-columns: 80px repeat(7, 1fr);
            }
            
            .day-column {
                padding: 0.5rem 0.25rem;
                font-size: 0.8rem;
            }
            
            .time-label {
                font-size: 0.8rem;
                padding: 0.5rem;
            }
            
            .activity-options-menu {
                min-width: 250px;
                max-width: 300px;
            }
        }

        @media (max-width: 480px) {
            .calendar-day-header,
            .time-slot {
                grid-template-columns: 60px repeat(7, 1fr);
            }
            
            .day-column {
                padding: 0.25rem;
                font-size: 0.7rem;
            }
            
            .time-label {
                font-size: 0.7rem;
                padding: 0.25rem;
            }
        }
    </style>
</head>
<body>
    <!-- Barra de Navegação -->
    <nav class="navbar">
        <div class="nav-brand">
            <i class="fas fa-calendar-alt"></i>
            <span>Calendário</span>
        </div>
        <ul class="nav-links">
            <li><a href="/" class="nav-link"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="/calendar" class="nav-link active"><i class="fas fa-calendar-alt"></i> Calendário</a></li>
            <li><a href="/categories" class="nav-link"><i class="fas fa-tags"></i> Categorias</a></li>
            <li><a href="/activity_map" class="nav-link"><i class="fas fa-project-diagram"></i> Mapa de Atividades</a></li>
            <li><a href="/rewards" class="nav-link"><i class="fas fa-trophy"></i> Recompensas</a></li>
        </ul>
    </nav>

    <!-- Conteúdo Principal -->
    <main class="main-content">
        <div class="calendar-container">
            <div class="calendar-header">
                <h1><i class="fas fa-calendar-alt"></i> Calendário Semanal</h1>
                <div class="calendar-controls">
                    <button id="prev-week" class="btn btn-outline">
                        <i class="fas fa-chevron-left"></i> Anterior
                    </button>
                    <div class="week-display" id="current-week">Carregando...</div>
                    <button id="next-week" class="btn btn-outline">
                        Próxima <i class="fas fa-chevron-right"></i>
                    </button>
                    <button id="today-btn" class="btn btn-primary">
                        <i class="fas fa-calendar-day"></i> Hoje
                    </button>
                </div>
            </div>

            <div class="calendar-view">
                <div class="calendar-week">
                    <!-- Cabeçalho dos dias -->
                    <div class="calendar-day-header">
                        <div class="day-column time-header">Horário</div>
                        <div class="day-column" data-day="0">Segunda</div>
                        <div class="day-column" data-day="1">Terça</div>
                        <div class="day-column" data-day="2">Quarta</div>
                        <div class="day-column" data-day="3">Quinta</div>
                        <div class="day-column" data-day="4">Sexta</div>
                        <div class="day-column" data-day="5">Sábado</div>
                        <div class="day-column" data-day="6">Domingo</div>
                    </div>
                    
                    <!-- Slots de tempo (serão gerados dinamicamente pelo JavaScript) -->
                    <div class="calendar-time-slots">
                        <!-- JavaScript vai gerar os slots aqui -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Legenda de Categorias -->
        <div class="calendar-legend">
            <h3><i class="fas fa-palette"></i> Legenda de Categorias</h3>
            <div class="legend-items" id="category-legend">
                <!-- Legenda será carregada dinamicamente -->
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #3498db;"></div>
                    <span class="legend-text">Carregando categorias...</span>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal de Agendamento -->
    <div id="schedule-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2><i class="fas fa-plus-circle"></i> Agendar Atividade</h2>
            <form id="schedule-form">
                <div class="form-group">
                    <label for="schedule-activity"><i class="fas fa-tasks"></i> Atividade</label>
                    <select id="schedule-activity" required>
                        <option value="">Carregando atividades...</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="scheduled-day"><i class="fas fa-calendar-day"></i> Data</label>
                    <input type="date" id="scheduled-day" required>
                </div>
                
                <div class="form-group">
                    <label for="scheduled-time"><i class="fas fa-clock"></i> Horário</label>
                    <input type="time" id="scheduled-time" required>
                </div>
                
                <div class="form-group">
                    <label for="schedule-duration"><i class="fas fa-hourglass-half"></i> Duração (minutos)</label>
                    <input type="number" id="schedule-duration" min="15" max="240" step="15" value="60" required>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-calendar-plus"></i> Agendar
                    </button>
                    <button type="button" class="btn btn-outline" id="cancel-schedule">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Replicação -->
    <div id="replicate-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2><i class="fas fa-copy"></i> Replicar Agendamento</h2>
            <form id="replicate-form">
                <input type="hidden" id="replicate-schedule-id">
                
                <div class="form-group">
                    <label><i class="fas fa-tasks"></i> Atividade</label>
                    <div style="padding: 0.75rem; background: #f8f9fa; border-radius: 6px;">
                        <strong id="replicate-activity-name">Carregando...</strong>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="replicate-start-date"><i class="fas fa-calendar-day"></i> Data Inicial</label>
                    <input type="date" id="replicate-start-date" required readonly>
                </div>
                
                <div class="form-group">
                    <label for="replicate-type"><i class="fas fa-sync-alt"></i> Tipo de Replicação</label>
                    <select id="replicate-type" required>
                        <option value="weekly">Semanal</option>
                        <option value="daily">Diária</option>
                        <option value="monthly">Mensal</option>
                    </select>
                </div>
                
                <div class="form-group" id="replicate-days-container">
                    <label for="replicate-days"><i class="fas fa-calendar-week"></i> Dias da Semana</label>
                    <select id="replicate-days" multiple style="height: 120px;">
                        <option value="0">Segunda-feira</option>
                        <option value="1">Terça-feira</option>
                        <option value="2">Quarta-feira</option>
                        <option value="3">Quinta-feira</option>
                        <option value="4">Sexta-feira</option>
                        <option value="5">Sábado</option>
                        <option value="6">Domingo</option>
                    </select>
                    <small style="display: block; margin-top: 0.25rem; color: #6c757d;">
                        Segure Ctrl (ou Cmd no Mac) para selecionar múltiplos dias
                    </small>
                </div>
                
                <div class="form-group">
                    <label for="replicate-until-date"><i class="fas fa-calendar-times"></i> Replicar Até</label>
                    <input type="date" id="replicate-until-date" required>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-copy"></i> Replicar
                    </button>
                    <button type="button" class="btn btn-outline" onclick="closeModal('replicate-modal')">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Progresso -->
    <div id="progress-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2><i class="fas fa-chart-line"></i> Registrar Progresso</h2>
            <form id="progress-form">
                <div class="form-group">
                    <label for="progress-activity"><i class="fas fa-tasks"></i> Atividade</label>
                    <select id="progress-activity" required>
                        <option value="">Selecione uma atividade</option>
                    </select>
                </div>
                
                <!-- Grupo para unidades -->
                <div id="units-group-calendar" style="display: none;">
                    <div class="form-group">
                        <label for="progress-value"><i class="fas fa-tachometer-alt"></i> Valor do Progresso</label>
                        <input type="number" id="progress-value" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="progress-unit"><i class="fas fa-ruler"></i> Unidade</label>
                        <input type="text" id="progress-unit" placeholder="ex: páginas, horas, km...">
                    </div>
                </div>
                
                <!-- Grupo para porcentagem -->
                <div id="percentage-group-calendar" style="display: none;">
                    <div class="form-group">
                        <label for="progress-percentage-calendar"><i class="fas fa-percentage"></i> Porcentagem Concluída</label>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <input type="range" id="progress-percentage-calendar" min="0" max="100" step="1" value="0" style="flex: 1;">
                            <span id="percentage-value-calendar" style="min-width: 40px;">0%</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="progress-date"><i class="fas fa-calendar-day"></i> Data</label>
                    <input type="date" id="progress-date" required>
                </div>
                
                <div class="form-group">
                    <label for="progress-notes"><i class="fas fa-sticky-note"></i> Observações</label>
                    <textarea id="progress-notes" rows="3" placeholder="Observações sobre o progresso..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Salvar Progresso
                    </button>
                    <button type="button" class="btn btn-outline" onclick="closeModal('progress-modal')">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Menu de Opções de Atividade (dinâmico) -->
    <div id="activity-options-menu" class="activity-options-menu" style="display: none;">
        <!-- Conteúdo será gerado dinamicamente pelo JavaScript -->
    </div>

    <!-- Scripts -->
    <script>
        // Script para alternar visibilidade dos dias da semana baseado no tipo de replicação
        document.addEventListener('DOMContentLoaded', function() {
            const replicateType = document.getElementById('replicate-type');
            const daysContainer = document.getElementById('replicate-days-container');
            
            if (replicateType && daysContainer) {
                function updateDaysVisibility() {
                    if (replicateType.value === 'weekly') {
                        daysContainer.style.display = 'block';
                    } else {
                        daysContainer.style.display = 'none';
                    }
                }
                
                replicateType.addEventListener('change', updateDaysVisibility);
                updateDaysVisibility(); // Initial call
            }
            
            // Configurar data mínima para "replicar até"
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            
            const replicateUntil = document.getElementById('replicate-until-date');
            if (replicateUntil) {
                replicateUntil.min = tomorrow.toISOString().split('T')[0];
            }
            
            // Configurar slider de porcentagem no modal de progresso
            const progressPercentageSlider = document.getElementById('progress-percentage-calendar');
            const progressPercentageValue = document.getElementById('percentage-value-calendar');
            
            if (progressPercentageSlider && progressPercentageValue) {
                progressPercentageSlider.addEventListener('input', function() {
                    progressPercentageValue.textContent = this.value + '%';
                });
            }
        });
    </script>
    <script src="{{ url_for('static', filename='js/calendar.js') }}"></script>
</body>
</html>